<!DOCTYPE html>
<html lang="en">

<head>

    <title>My BCIT Project</title>
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyB8_rgXNr8HKUS5EEj8orWw8CsfuH_abXA",
            authDomain: "quick-c73d3.firebaseapp.com",
            databaseURL: "https://quick-c73d3.firebaseio.com",
            projectId: "quick-c73d3",
            storageBucket: "quick-c73d3.appspot.com",
            messagingSenderId: "886931690680",
            appId: "1:886931690680:web:833bfd4b71e4bedf7c104d"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <style>
    .rating {
  display: inline-block;
  position: relative;
  height: 50px;
  line-height: 50px;
  font-size: 50px;
}

.rating label {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  cursor: pointer;
}

.rating label:last-child {
  position: static;
}

.rating label:nth-child(1) {
  z-index: 5;
}

.rating label:nth-child(2) {
  z-index: 4;
}

.rating label:nth-child(3) {
  z-index: 3;
}

.rating label:nth-child(4) {
  z-index: 2;
}

.rating label:nth-child(5) {
  z-index: 1;
}

.rating label input {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
}

.rating label .icon {
  float: left;
  color: transparent;
}

.rating label:last-child .icon {
  color: #000;
}

.rating:not(:hover) label input:checked ~ .icon,
.rating:hover label:hover input ~ .icon {
  color: #09f;
}

.rating label input:focus:not(:checked) ~ .icon:last-child {
  color: #000;
  text-shadow: 0 0 5px #09f;
}
</style>
</head>

<body>
    <h1>Review</h1>
    <h2>Rating</h2>

    <form id="textArea" onsubmit="return createReview();">
        <textarea id="text" class="form-control form-control-lg" value="" style="height: 20vh;" type="text" placeholder=".form-control-lg"></textarea>
        <button type="submit" class="btn btn-primary btn-lg btn-block">Submit</button>
    
    </form>



    <script>
        //Script for creating a review and adding it to firebase.
        var hasClicked = false;
        function createReview() {
            if (!hasClicked && ($('#text').val())) {
                console.log("hello");
                hasClicked = true;
                var text = $('#text').val();

                db.collection("recipes").doc("yPjNIQwpl23G46YQK6xu").collection("reviews").add({
                    cookTime: "DEBUG",
                    text: text,
                    title: "DEBUGDEBUGDEBUG"
                }); 
                setTimeout(function(){ window.location.replace("submit.html"); }, 1000);

                return false;
            }
            
        }
    </script>
</body>

</html>